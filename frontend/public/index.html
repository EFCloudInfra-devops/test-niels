<!doctype html>
<html lang="nl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>EX4300 Port UI</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>EX4300 Port UI</h1>
    <div class="toolbar">
      <label>Device:
        <select id="deviceSelect"></select>
      </label>
      <button id="syncBtn">Sync actual</button>
      <span id="lastRefresh" class="inline-badge" title="Last cache refresh">—</span>
      <label>Polling (s): <input type="number" id="pollInput" min="15" value="60" /></label>
    </div>
  </header>
  
  <main id="pane" class="pane">
    <div class="grid" id="grid-ge0"></div><br>
    <div class="grid" id="grid-ge1"></div><br>
    <div class="grid uplinks" id="grid-xe"></div><br>
    <div class="grid aggregates" id="grid-ae"></div>
  </main>

  <div id="modal" class="modal hidden">
    <div class="modal-content">
      <span id="closeModal" class="close">×</span>
      <h2 id="modalTitle">Port configuration</h2>
      <div id="adminBadge" class="badge hidden">ADMIN DOWN</div>
      <form id="configForm">
        <div class="form-row">
          <label>Mode</label>
          <select name="mode" id="modeSelect">
            <option value="access">access</option>
            <option value="trunk">trunk</option>
          </select>
        </div>
        <!-- Access VLAN: from backend /vlans -->
        <div class="form-row access-only">
          <label>Access VLAN</label>
          <select name="access_vlan" id="accessVlanSelect"></select>
        </div>
        <!-- Trunk VLANs: multiselect -->
        <div class="form-row trunk-only">
          <label>Trunk VLANs</label>
          <select name="trunk_vlans" id="trunkVlanSelect" multiple size="8"></select>
        </div>
        <!-- Show selected trunk VLANs inline -->
        <div class="form-row trunk-only">
          <label>Selected</label>
          <div id="trunkSelected" class="multi-inline"></div>
        </div>
        <!-- Native VLAN -->
        <div class="form-row trunk-only">
          <label>Native VLAN</label>
          <select name="native_vlan" id="nativeVlanSelect"></select>
        </div>
      
        <div class="form-row">
          <label>PoE</label>
          <select name="poe">
            <option value="">(laat onveranderd)</option>
            <option value="true">aan</option>
            <option value="false">uit</option>
          </select>
        </div>
        <!-- Speed (read-only) -->
        <div class="form-row">
          <label>Speed</label>
          <input type="text" name="speed" id="speedInput" readonly />
        </div>

        <div class="actions">
          <button type="submit">Save</button>
        </div>
      </form>
      <!-- AE bundle hint -->
      <div id="bundleHint" class="hidden inline-badge"></div>
      
    </div>
  </div>

  <script src="app.js"></script>
</body>
</html>
